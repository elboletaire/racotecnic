<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Utilizar framework JavaScript en nuestro tema o plugin de Wordpress &#8211; Racó Tècnic</title>
<meta name="description" content="Punt de trobada de coneixements">
<meta name="keywords" content="Wordpress, JavaScript, jQuery, ProtoType, Scriptaculous, SWFUpload">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="//elboletaire.github.io/racotecnic/images/">
<meta name="twitter:title" content="Utilizar framework JavaScript en nuestro tema o plugin de Wordpress">
<meta name="twitter:description" content="Punt de trobada de coneixements">
<meta name="twitter:creator" content="@racotecnic">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Utilizar framework JavaScript en nuestro tema o plugin de Wordpress">
<meta property="og:description" content="Punt de trobada de coneixements">
<meta property="og:url" content="//elboletaire.github.io/racotecnic/2009/03/utilizar-framework-javascript-en-nuestro-tema-o-plugin-de-wordpress/">
<meta property="og:site_name" content="Racó Tècnic">





<link rel="canonical" href="//elboletaire.github.io/racotecnic/2009/03/utilizar-framework-javascript-en-nuestro-tema-o-plugin-de-wordpress/">
<link href="//elboletaire.github.io/racotecnic/feed.xml" type="application/atom+xml" rel="alternate" title="Racó Tècnic Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="//elboletaire.github.io/racotecnic/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="//elboletaire.github.io/racotecnic/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="//elboletaire.github.io/racotecnic/assets/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="//elboletaire.github.io/racotecnic/assets/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="//elboletaire.github.io/racotecnic/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="//elboletaire.github.io/racotecnic/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="//elboletaire.github.io/racotecnic/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="//elboletaire.github.io/racotecnic/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="//elboletaire.github.io/racotecnic/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="//elboletaire.github.io/racotecnic/images/" alt="Racó Tècnic photo" class="author-photo">
					<h4>Racó Tècnic</h4>
					<p>A subproject from <a href="http://underave.net">underave.net</a> created by <a href="https://github.com/elboletaire">elboletaire</a> and maintained by many collaborators.</p>
				</li>
				<li><a href="//elboletaire.github.io/racotecnic/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:elboletaire@underave.net"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="https://twitter.com/racotecnic"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="https://facebook.com/racotecnic"><i class="fa fa-fw fa-facebook"></i> Facebook</a>
				</li>
				
				
				<li>
					<a href="https://github.com/elboletaire/racotecnic"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="//elboletaire.github.io/racotecnic/posts/">All Posts</a></li>
				<li><a href="//elboletaire.github.io/racotecnic/tags/">All Tags</a></li>
				<li><a href="//elboletaire.github.io/racotecnic/categories/">All Categories</a></li>
			</ul>
		</li>
		
	    
	    <li><a href="https://github.com/elboletaire/racotecnic" target="_blank">Github</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->




<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="//elboletaire.github.io/racotecnic/2009/03/utilizar-framework-javascript-en-nuestro-tema-o-plugin-de-wordpress/" rel="bookmark" title="Utilizar framework JavaScript en nuestro tema o plugin de Wordpress">Utilizar framework JavaScript en nuestro tema o plugin de Wordpress</a></h1>
        
        <h2><span class="entry-date date published"><time datetime="2009-03-18T02:38:00+01:00">March 18, 2009</time></span></h2>
        
        <p class="entry-reading-time">
          <i class="fa fa-clock-o"></i>
          
          Reading time ~5 minutes
        </p><!-- /.entry-reading-time -->
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p>Quizás os hayáis planteado añadir un poco de JavaScript a vuestro tema o plugin de Wordpress fácilmente gracias a algún framework como jQuery, Scriptacolous, Prototype… o quizás simplemente nos interese añadir nuestro propio fichero de JavaScript!</p>

<p>Al hacerlo olvidaros de hacer “echo ‘&lt;script type=”text/javascript&gt;…&lt;/script&gt;;’“… pues como quizás ya sepáis, Wordpress incluye algunas de estas librerías y podrías hacerlas entrar en conflicto (debido a que algún plugin o vuestro tema ya utilicen alguna de estas librerías).</p>

<p>Wordpress tiene una función llamada “wp_enqueue_script” que se encargará de importar en la cabecera del blog el JavaScript que queramos. Ésta misma función se encargará de ordenar los scripts en la cabecera automáticamente y, en caso de ser un script creado por nosotros, deberemos indicar qué escripts van delante de éste (para hacer así un fichero de funciones externo para jQuery, por ejemplo).</p>

<p><a id="more"></a><a id="more-219"></a>
Vemos la función:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="nx">wp_enqueue_script</span><span class="p">(</span> <span class="s1">'handle'</span><span class="p">,</span> <span class="s1">'src'</span><span class="p">,</span> <span class="s1">'deps'</span><span class="p">,</span> <span class="s1">'ver'</span><span class="p">);</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Y sus parámetros:</p>

<ul>
  <li><strong>handle:</strong> Nombre del script, en minúscula.</li>
  <li><strong>src:</strong> (opcional) Ruta al script desde el directorio raíz de Wordpress. Ejemplo: ‘/wp-contents/themes/nombredeltema/lib/functions.js’. Este parámetro solo es requerido para los scripts que no están incluidos en wordpress. Por defecto está como false.</li>
  <li><strong>deps:</strong> (opcional) array conteniendo los “handle” de los cuales este escript depende (es decir, aquellos escripts que deben ser cargados antes que el nuestro). Éste parámetro sólo lo utilizaremos para importar ficheros JavaScript desconocidos para Wordpress (nuestro fichero de funciones, por ejemplo). Falso por defecto.</li>
  <li><strong>ver:</strong> (opcional) Cadena con la versión del script. Por defecto en falso.</li>
</ul>

<p>Algunos de los “handle” que podéis utilizar son:</p>

<ul>
  <li><a title="Visitar web oficial jQuery" href="http://www.jquery.com/" target="_blank">jquery</a></li>
  <li><a title="Visitar web oficial Scriptacolous" href="http://script.aculo.us/" target="_blank">scriptaculous</a></li>
  <li><a title="Visitar web oficial Prototype" href="http://www.prototypejs.org/" target="_blank">prototype</a></li>
  <li><a title="Visitar web oficial SWFUpload" href="http://swfupload.org/" target="_blank">swfupload</a></li>
</ul>

<p>Podéis ver <a title="Ver lista completa" href="http://codex.wordpress.org/Function_Reference/wp_enqueue_script#Parameters" target="_blank">una lista completa</a> en el <a title="Ir a la página principal del Codex de Wordpress" href="http://codex.wordpress.org/" target="_blank">Codex de Wordpress</a>.</p>

<p>Dado que últimamente estoy trasteando con jQuery os mostraré un pequeño ejemplo de cómo importarlo en nuestro tema e importar nuestro fichero de funciones.</p>

<p>Primero de todo importemos jQuery en nuestro tema. Abramos el fichero “header.php” y antes de llamar a la función “wp_head();” llamemos a wp_enqueue_script:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre><span class="cp">&lt;?php</span>
<span class="nx">wp_enqueue_script</span><span class="p">(</span><span class="s1">'jquery'</span><span class="p">);</span>
<span class="nx">wp_head</span><span class="p">();</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Con esto Wordpress insertará una etiqueta <script> en la sección &lt;head&gt; de la página haciendo referencia a la librería jQuery.</script></p>

<p>Lo siguiente que haremos es importar nuestro código con las funciones que tengamos que utilicen jQuery, pero antes deberemos evitar posibles conflictos entre otros frameworks distribuidos con Wordpress como Prototype, SWFUpload… (los “hamdle” anteriormente mencionados).</p>

<p>Esto es porque, por ejemplo, Prototype y jQuery utilizan el mismo método de llamada, el dólar “$”. Debemos cambiar éste método en jQuery para que funcione correctamente el código, para ello utilizaremos el método nonConflict de jQuery, así:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">'text/javascript'</span><span class="nt">&gt;</span>
<span class="nx">$miMetodoDeLlamadaJquery</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">noConflict</span><span class="p">();</span>
<span class="nt">&lt;/script&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Evidentemente no es nada recomendable poner un método de llamada tan largo ;) Yo utilizaría $jQ:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">'text/javascript'</span><span class="nt">&gt;</span>
<span class="nx">$jQ</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">noConflict</span><span class="p">();</span>

<span class="nx">$jQ</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$jQ</span><span class="p">(</span><span class="s1">'div#search'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Este pequeño ejemplo, insertado en nuestra cabecera del tema, ocultaría la capa con id=”search”.</p>

<p>Imaginemos que en lugar de estar insertado en la cabecera quisiéramos tener nuestro código en un fichero a parte, guardado en alguna carpeta del tema, o del plugin. Por supuesto, lo primero que haríamos es eliminar las etiquetas “script” de nuestro código, dado que será un fichero .js. Una vez guardado nuestro código en un fichero js y éste subido a alguna carpeta en el servidor (en principio en la carpeta del tema o plugin) lo importamos con wp_enqueue_script:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre><span class="cp">&lt;?php</span>
<span class="nx">wp_enqueue_script</span><span class="p">(</span><span class="s1">'jquery'</span><span class="p">);</span>
<span class="nx">wp_enqueue_script</span><span class="p">(</span><span class="s1">'misfunciones'</span><span class="p">,</span><span class="s1">'/wp-content/themes/mitema/lib/functions.js'</span><span class="p">,</span><span class="k">array</span><span class="p">(</span><span class="s1">'jquery'</span><span class="p">));</span>
<span class="nx">wp_head</span><span class="p">();</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Recordad que si estáis programando una extensión de jquery debéis pasar un array como tercer parámetro (deps) a la función indicando los ficheros de los que depende vuestra librería. Si hubierais programado una extensión de una extensión deberíais indicarlo así:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="cp">&lt;?php</span>
<span class="nx">wp_enqueue_script</span><span class="p">(</span><span class="s1">'misfunciones'</span><span class="p">,</span><span class="s1">'/wp-content/themes/mitema/lib/functions.js'</span><span class="p">,</span><span class="k">array</span><span class="p">(</span><span class="s1">'jquery'</span><span class="p">,</span><span class="s1">'extension-jquery'</span><span class="p">));</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Espero que os sirva, salud!</p>

<blockquote>
  Páginas de referencia:
  <ul>
    <li><a title="Ir a la página principal del Codex de Wordpress" href="http://codex.wordpress.org/" target="_blank">Codex Wordpress</a></li>
    <li><a href="http://codex.wordpress.org/Function_Reference/wp_enqueue_script" target="_blank">Referencia función wp_enqueue_script</a></li>
    <li><a title="Visitar documentación de jQuery" href="http://docs.jquery.com/Main_Page" target="_blank">jQuery API</a></li>
  </ul>
</blockquote>

      <footer class="entry-meta">
        <span class="entry-tags">
            
            <a href="//elboletaire.github.io/racotecnic/etiqueta/Wordpress" title="Pages tagged Wordpress" class="tag">
                <span class="term">Wordpress</span>
            </a>
            
            
            <a href="//elboletaire.github.io/racotecnic/etiqueta/JavaScript" title="Pages tagged JavaScript" class="tag">
                <span class="term">JavaScript</span>
            </a>
            
            
            <a href="//elboletaire.github.io/racotecnic/etiqueta/jQuery" title="Pages tagged jQuery" class="tag">
                <span class="term">jQuery</span>
            </a>
            
            
            <a href="//elboletaire.github.io/racotecnic/etiqueta/ProtoType" title="Pages tagged ProtoType" class="tag">
                <span class="term">ProtoType</span>
            </a>
            
            
            <a href="//elboletaire.github.io/racotecnic/etiqueta/Scriptaculous" title="Pages tagged Scriptaculous" class="tag">
                <span class="term">Scriptaculous</span>
            </a>
            
            
            <a href="//elboletaire.github.io/racotecnic/etiqueta/SWFUpload" title="Pages tagged SWFUpload" class="tag">
                <span class="term">SWFUpload</span>
            </a>
            
            
        </span>
        
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=//elboletaire.github.io/racotecnic/2009/03/utilizar-framework-javascript-en-nuestro-tema-o-plugin-de-wordpress/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=//elboletaire.github.io/racotecnic/2009/03/utilizar-framework-javascript-en-nuestro-tema-o-plugin-de-wordpress/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=//elboletaire.github.io/racotecnic/2009/03/utilizar-framework-javascript-en-nuestro-tema-o-plugin-de-wordpress/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
    <div class="read-more">
  
    <div class="read-more-header">
      <a href="//elboletaire.github.io/racotecnic/2009/03/blue-vertigo-mes-que-recursos/" class="read-more-btn">Read More</a>
    </div><!-- /.read-more-header -->
    <div class="read-more-content">
      <h3><a href="//elboletaire.github.io/racotecnic/2016/05/guarda-gratis-en-la-nube-tus-partidas-guardadas-o-como-hacer-copias-de-seguridad-en-la-nube-gratis/" title="Guarda GRATIS en la nube tus partidas guardadas o cómo hacer copias de seguridad en la nube gratis">Guarda GRATIS en la nube tus partidas guardadas o cómo hacer copias de seguridad en la nube gratis</a></h3>
      <p>Ya hace unos años que hago esto y la verdad es que es muy práctico. Consistebásicamente en subir automáticamente las partidas guardadas a...&hellip; <a href="//elboletaire.github.io/racotecnic/2016/05/guarda-gratis-en-la-nube-tus-partidas-guardadas-o-como-hacer-copias-de-seguridad-en-la-nube-gratis/">Continue reading</a></p>
    </div><!-- /.read-more-content -->
  
  <div class="read-more-list">
    
      <div class="list-item">
        <h4><a href="//elboletaire.github.io/racotecnic/2015/03/instalacion-wamp-a-pelo-con-multiples-versiones-de-php/" title="Instalación WAMP a pelo con múltiples versiones de PHP o cómo configurar Apache para correr varias versiones de PHP en distintos servidores virtuales">Instalación WAMP a pelo con múltiples versiones de PHP o cómo configurar Apache para correr varias versiones de PHP en distintos servidores virtuales</a></h4>
        <span>Published on March 16, 2015</span>
      </div><!-- /.list-item -->
    
      <div class="list-item">
        <h4><a href="//elboletaire.github.io/racotecnic/2014/01/ordenar-por-columnas-en-laravel-4-o-como-extender-laravel-4-a-nuestro-gusto/" title="Ordenar por columnas en Laravel 4 o cómo extender Laravel 4 a tu gusto">Ordenar por columnas en Laravel 4 o cómo extender Laravel 4 a tu gusto</a></h4>
        <span>Published on January 18, 2014</span>
      </div><!-- /.list-item -->
    
  </div><!-- /.read-more-list -->
</div><!-- /.read-more -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Racó Tècnic. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="//elboletaire.github.io/racotecnic/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="//elboletaire.github.io/racotecnic/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-106861877-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>



    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'racotecnic'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</body>
</html>
