<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Racó Tècnic</title>
<meta name="description" content="Punt de trobada de coneixements">
<meta name="keywords" content="development, hardware, software, audio, video, mapping, php, bash, apache, nginx, cakephp, git">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="//elboletaire.github.io/racotecnic/images/el-carmel-viewpoint.jpg">

<meta name="twitter:title" content="Racó Tècnic">
<meta name="twitter:description" content="Punt de trobada de coneixements">
<meta name="twitter:creator" content="@racotecnic">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Racó Tècnic">
<meta property="og:description" content="Punt de trobada de coneixements">
<meta property="og:url" content="//elboletaire.github.io/racotecnic/page/22/">
<meta property="og:site_name" content="Racó Tècnic">





<link rel="canonical" href="//elboletaire.github.io/racotecnic/page/22/">
<link href="//elboletaire.github.io/racotecnic/feed.xml" type="application/atom+xml" rel="alternate" title="Racó Tècnic Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="//elboletaire.github.io/racotecnic/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="//elboletaire.github.io/racotecnic/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="//elboletaire.github.io/racotecnic/assets/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="//elboletaire.github.io/racotecnic/assets/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="//elboletaire.github.io/racotecnic/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="//elboletaire.github.io/racotecnic/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="//elboletaire.github.io/racotecnic/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="//elboletaire.github.io/racotecnic/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="//elboletaire.github.io/racotecnic/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="//elboletaire.github.io/racotecnic/images/" alt="Racó Tècnic photo" class="author-photo">
					<h4>Racó Tècnic</h4>
					<p>A subproject from <a href="http://underave.net">underave.net</a> created by <a href="https://github.com/elboletaire">elboletaire</a> and maintained by many collaborators.</p>
				</li>
				<li><a href="//elboletaire.github.io/racotecnic/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:elboletaire@underave.net"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="https://twitter.com/racotecnic"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="https://facebook.com/racotecnic"><i class="fa fa-fw fa-facebook"></i> Facebook</a>
				</li>
				
				
				<li>
					<a href="https://github.com/elboletaire/racotecnic"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="//elboletaire.github.io/racotecnic/posts/">All Posts</a></li>
				<li><a href="//elboletaire.github.io/racotecnic/tags/">All Tags</a></li>
				<li><a href="//elboletaire.github.io/racotecnic/categories/">All Categories</a></li>
			</ul>
		</li>
		
	    
	    <li><a href="https://github.com/elboletaire/racotecnic" target="_blank">Github</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="https://github.com/elboletaire/Watimage/blob/master/examples/files/LICENSE">elboletaire</a></div><!-- /.image-credit -->
  
    <div class="entry-image" style="background-image: url(//elboletaire.github.io/racotecnic/images/el-carmel-viewpoint.jpg);">
      <img src="//elboletaire.github.io/racotecnic/images/el-carmel-viewpoint.jpg" alt="">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Racó Tècnic</h1>
      <h2>Punt de trobada de coneixements</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2009-01-21T01:07:09+01:00">
          <a href="//elboletaire.github.io/racotecnic/2009/01/registro-de-usuarios-externo-a-phpbb-3x/">January 21, 2009</a>
        </time>
      </span>
      <span class="author vcard"><span class="fn">
        
        <a href="http://www.underave.net" title="About Booletaire">
          Booletaire
        </a>
        
      </span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~6 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="//elboletaire.github.io/racotecnic/2009/01/registro-de-usuarios-externo-a-phpbb-3x/" rel="bookmark" title="Registro de usuarios externo a phpBB 3.x" itemprop="url">Registro de usuarios externo a phpBB 3.x</a></h1>
    
  </header>
  <div class="entry-content">
    <blockquote>
  <p><strong>Nota:</strong> Si lo que buscas es integrar phpBB 3.x con CakePHP,
<a href="//elboletaire.github.io/racotecnic/2010/01/integrando-cakephp-y-phpbb-3-x">ésta es tu entrada</a>.</p>
</blockquote>

<p>El otro día expliqué <a title="Leer artículo" href="http://racoinformatic.underave.net/2009/01/registro-de-usuarios-externo-a-wordpress/" target="_self">cómo registrar usuarios en nuestro Wordpress desde un formulario de login externo</a>. Como ya expliqué he estado haciendo un formulario de registro global para varios scripts para <a title="Visitar underave.net" href="http://www.underave.net" target="_self">mi página web</a> (<a title="Visitar wordpress.org" href="http://www.wordpress.org" target="_blank">Wordpress</a>, <a title="Visitar phpBB.com" href="http://www.phpbb.com" target="_blank">phpBB</a>, <a title="Visitar mediawiki.org" href="http://www.mediawiki.org" target="_blank">MediaWiki</a>) y quiero poder aliviaros esfuerzo si llegado el caso tenéis que hacerlo ;)</p>

<p>Al igual que con el anterior tutorial voy a dar por hecho que sabéis hacer un formulario y <a title="Enviar y recibir datos vía GET y POST en HTML y PHP" href="http://aprendeenlinea.udea.edu.co/lms/moodle/mod/resource/view.php?id=47214" target="_blank">enviar y recibir datos vía GET y POST</a>. Así pues, ¡vayamos al grano!</p>

<p><a id="more"></a><a id="more-151"></a>
Primero de todo cargamos ficheros necesarios e inicializamos la constante “IN_PHPBB”:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre></td><td class="code"><pre><span class="c1">// Iniciamos la constante IN_PHPBB
</span><span class="nb">define</span><span class="p">(</span><span class="s1">'IN_PHPBB'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="c1">// Indicamos la carpeta donde se encuentra nuestro phpBB3
</span><span class="nv">$phpbb_root_path</span> <span class="o">=</span> <span class="s1">'../forums/'</span><span class="p">;</span>
<span class="c1">// Extension de los ficheros a cargar
</span><span class="nv">$phpEx</span> <span class="o">=</span> <span class="nb">substr</span><span class="p">(</span><span class="nb">strrchr</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
<span class="c1">// Cargamos fichero common.php
</span><span class="k">require_once</span><span class="p">(</span><span class="nv">$phpbb_root_path</span> <span class="o">.</span> <span class="s1">'common.'</span> <span class="o">.</span> <span class="nv">$phpEx</span><span class="p">);</span>
<span class="c1">// Cargamos fichero functions_user.php (éste es el que contiene
// las funciones para añadir usuarios)
</span><span class="k">require_once</span><span class="p">(</span><span class="nv">$phpbb_root_path</span> <span class="o">.</span> <span class="s1">'includes/functions_user.'</span> <span class="o">.</span> <span class="nv">$phpEx</span><span class="p">);</span>
<span class="c1">// Definimos la diferencia horaria con el servidor (explicado más adelante)
</span><span class="nb">define</span> <span class="p">(</span><span class="s1">'UTC'</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Ya tenemos lo más importante. Ahora pasaremos a hacer un par de comprobaciones: validar la existencia del usuario y verificar el e-mail. Ambas verificaciones serán llevadas a cabo con funciones de phpBB (cargadas en las líneas anteriores).</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></td><td class="code"><pre><span class="c1">// Variables recogidas del formulario
</span><span class="nv">$nick</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'nombre_de_usuario'</span><span class="p">];</span>
<span class="nv">$email</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'email'</span><span class="p">];</span>
<span class="nv">$pass</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'contrasenya'</span><span class="p">];</span>
<span class="nv">$error</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="c1">// Comprobamos si el nombre de usuario existe
</span><span class="k">if</span> <span class="p">(</span><span class="nx">validate_username</span><span class="p">(</span><span class="nv">$nick</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'El nombre de usuario especificado ya existe'</span><span class="p">;</span>
    <span class="nv">$error</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// Comprovamos el e-mail
</span><span class="k">if</span> <span class="p">(</span><span class="nx">validate_email</span><span class="p">(</span><span class="nv">$email</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">validate_email</span><span class="p">(</span><span class="nv">$email</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">case</span> <span class="nx">DOMAIN_NO_MX_RECORD</span><span class="o">:</span>
            <span class="k">echo</span> <span class="s1">'El dominio de la cuenta e-mail especificada no existe'</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">EMAIL_TAKEN</span><span class="o">:</span>
            <span class="k">echo</span> <span class="s1">'Existe un usuario registrado con el mismo e-mail'</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">EMAIL_INVALID</span><span class="o">:</span>
            <span class="k">echo</span> <span class="s1">'El e-mail especificado no es válido'</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nv">$error</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// En caso de error ejecutamos el código que queramos
</span><span class="k">if</span> <span class="p">(</span><span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// En mi caso vuelvo a mostrar el formulario de registro
</span>    <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">display</span><span class="p">();</span>
    <span class="c1">// y finalizo la ejecución
</span>    <span class="k">exit</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>La función <a title="Ver detalles de la función" href="http://area51.phpbb.com/docs/code/phpBB3/_includes---functions_user.php.html#functionvalidate_username" target="_blank">validate_username</a> retorna una cadena si el nombre de usuario ya existe o false en caso de que no exista. Lo que no he logrado averiguar es si hay distintas frases o solo una “USERNAME_TAKEN” (si alguien sabe de alguna otra le agradeceré que me lo indique), por eso mismo lo trato como true o false.</p>

<p>Por otro lado, la función <a title="Ver detalles de la función" href="http://area51.phpbb.com/docs/code/phpBB3/_includes---functions_user.php.html#functionvalidate_email" target="_blank">validate_email</a> retorna tres cadenas distintas, según si el dominio o el e-mail son válidos o si el e-mail está cogido.</p>

<p>Pasemos al propio registro del usuario. Antes de hacerlo debéis saber que os mostraré cómo hacer para registrar a un usuario inactivo. Si queréis registrar al usuario activado directamente, simplemente omitid las líneas que os indique.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre></td><td class="code"><pre><span class="c1">// Encriptamos la contraseña
</span><span class="nv">$hash</span> <span class="o">=</span> <span class="nx">phpbb_hash</span><span class="p">(</span><span class="nv">$pass</span><span class="p">);</span>
<span class="c1">// Generamos un código de activación para la cuenta
</span><span class="nv">$actkey</span> <span class="o">=</span> <span class="nb">substr</span><span class="p">(</span><span class="nb">md5</span><span class="p">(</span><span class="nb">time</span><span class="p">()),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">13</span><span class="p">);</span>
<span class="c1">// Añadimos los datos de usuario en una tabla
</span><span class="nv">$dades_forum</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'username'</span><span class="o">=&gt;</span><span class="nv">$nick</span><span class="p">,</span> <span class="c1">// Nombre de usuario
</span>    <span class="s1">'user_password'</span>        <span class="o">=&gt;</span> <span class="nv">$hash</span><span class="p">,</span> <span class="c1">// Contraseña encriptada
</span>    <span class="s1">'group_id'</span>             <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="c1">// Grupo al que pertenece
</span>    <span class="s1">'user_email'</span>           <span class="o">=&gt;</span> <span class="nv">$email</span><span class="p">,</span>
    <span class="s1">'user_type'</span>            <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="c1">//** Tipo de usuario
</span>    <span class="s1">'user_actkey'</span>          <span class="o">=&gt;</span> <span class="nv">$actkey</span><span class="p">,</span> <span class="c1">//** Clave de activación de cuenta
</span>    <span class="s1">'user_lang'</span>            <span class="o">=&gt;</span> <span class="s1">'ca'</span><span class="p">,</span> <span class="c1">// Idioma (catalán en este caso)
</span>    <span class="s1">'user_timezone'</span>        <span class="o">=&gt;</span> <span class="nv">$utc</span><span class="p">,</span> <span class="c1">// Diferencia horaria del cliente
</span>    <span class="s1">'user_inactive_reason'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="c1">// Motivo por el cual su cuenta está inactiva
</span>    <span class="s1">'user_inactive_time'</span>   <span class="o">=&gt;</span> <span class="nb">time</span><span class="p">()</span> <span class="o">-</span> <span class="nx">UTC</span> <span class="o">*</span> <span class="mi">3600</span><span class="p">,</span> <span class="c1">//** Hora en que se 'inactiva' su cuenta
</span>    <span class="s1">'user_regdate'</span>         <span class="o">=&gt;</span> <span class="nb">time</span><span class="p">()</span> <span class="o">-</span> <span class="nx">UTC</span> <span class="o">*</span> <span class="mi">3600</span><span class="p">);</span> <span class="c1">// Hora de registro (menos la diferencia horaria con el servidor)
// Añadimos el usuario
</span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$user_id</span> <span class="o">=</span> <span class="nx">user_add</span><span class="p">(</span><span class="nv">$dades_forum</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="s1">'Error inesperado al registrarte'</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">echo</span> <span class="s1">'Usuario registrado correctamente! Tu ID de usuario es '</span> <span class="o">.</span> <span class="nv">$user_id</span> <span class="o">.</span> <span class="s1">' y tu clave de activación '</span> <span class="o">.</span> <span class="nv">$actkey</span><span class="p">;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p><small>Las líneas comentadas con dos asteriscos (//**) son aquellas que se descartan o varían cuando queremos registrar un usuario con la cuenta ya activa (explicado más adelante).</small></p>

<p>Ahora, por pasos:</p>

<ul>
  <li>Encriptamos la contraseña utilizando la función <a title="Ver detalles de la función" href="http://area51.phpbb.com/docs/code/phpBB3/_includes---functions.php.html#functionphpbb_hash" target="_blank">phpbb_hash</a>. Este paso puede ser modificado por una simple encriptación por MD5 ya que phpbb reconoce ambos métodos de encriptación a la hora de logear usuarios.</li>
  <li>Generamos un código de 13 caracteres a partir de la hora actual encriptada en md5 (esto es para conseguir una clave lo más aleatoria posible) y añadimos los datos en una tabla asociativa.</li>
  <li>Añadimos todos los datos en una tabla asociativa.</li>
  <li>En caso de querer registrar el usuario con su cuenta ya activa, descartaríamos las claves (y sus respectivos valores) "user_actkey" y "user_inactive_time" y la clave "user_type" la pondríamos a 0 en lugar de 1 (1 es usuarios inactivos, 2 BOTs y 0 usuarios activos).</li>
  <li>UTC indica la diferencia horaria con el servidor. Es una constante que he iniciado en las primeras líneas de código y cuya función no es más que restar la diferencia horaria entre el servidor y UTC+0 (phpBB guarda las horas en UTCzero). En mi caso la diferencia horaria es +1, pues el ordenador en el que hago estos códigos es el mío y así que está en UTC+1. Si el servidor estuviera en U.S.A. quizás debierais poner -7 o -8 (como he dicho dependerá de la situación horaria de vuestro servidor...).</li>
  <li>Para terminar, la función <a title="Ver detalles de la función" href="http://area51.phpbb.com/docs/code/phpBB3/_includes---functions_user.php.html#functionuser_add" target="_blank">user_add</a> devuelve la nueva ID del usuario creado. Con ella y con la clave de activación guardada anteriormente podemos crear un enlace de activación:</li>
</ul>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="s1">'&lt;a href="../forums/ucp.php?mode=activate&amp;amp;u='</span> <span class="o">.</span> <span class="nv">$user_id</span> <span class="o">.</span> <span class="s1">'&amp;amp;k='</span> <span class="o">.</span> <span class="nv">$actkey</span> <span class="o">.</span> <span class="s1">'"&gt;Haz clic aquí para activar tu cuenta&lt;/a&gt;'</span><span class="p">;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Una vez terminado el registro podemos enviar este enlace al usuario vía e-mail para que active su cuenta.</p>

<blockquote>
  Página de referencia:
  <ul>
    <li><a title="Ver página de referencia" href="http://area51.phpbb.com/docs/code/" target="_blank">phpBB3 Code Reference</a></li>
  </ul>
</blockquote>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry no-line-numbers">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2009-01-17T16:17:17+01:00">
          <a href="//elboletaire.github.io/racotecnic/2009/01/cambiar-maquina-virtual-de-java-jvm-en-aptana/">January 17, 2009</a>
        </time>
      </span>
      <span class="author vcard"><span class="fn">
        
        <a href="http://www.underave.net" title="About Booletaire">
          Booletaire
        </a>
        
      </span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="//elboletaire.github.io/racotecnic/2009/01/cambiar-maquina-virtual-de-java-jvm-en-aptana/" rel="bookmark" title="Cambiar máquina virtual de Java (JVM) en Aptana" itemprop="url">Cambiar máquina virtual de Java (JVM) en Aptana</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Hace poco expliqué <a title="Leer entrada" href="2009/01/cambiar-maquina-virtual-de-java-en-eclipse/" target="_self">cómo cambiar la máquina virtual de Java que utiliza Eclipse</a> al ejecutarse. Hoy explicaré cómo hacerlo en Aptana.</p>

<p>Aptana necesita Sun Java v. 1.5 ó superior para funcionar correctamente y, al igual que eclipse en Linux, por defecto no suele detectar la máquina virtual de Java correctamente. Para solucionarlo no tenéis más que añadirle el parámetro “-vm” (virtual machine) con la ruta a vuestra máquina virtual preferida al ejecutar aptana:</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>user@host:~$ /usr/local/aptana/AptanaStudio -vm /usr/lib/jvm/java-6-sun-1.6.0.10/jre/bin/java
</pre></td></tr></tbody></table>
</div>
</div>

<p>Cambiad la carpeta “/java-6-sun-1.6.0.10/” por la que corresponda en vuestro sistema.</p>

<p>Recordad que para ver cuáles tenéis disponibles podéis hacerlo desde consola mostrando el contenido de la carpeta jvm:</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>user@host:~$ ls /usr/lib/jvm/
</pre></td></tr></tbody></table>
</div>
</div>

<p>En la <a title="Cómo isntalar aptana (en inglés)" href="http://www.aptana.com/docs/index.php/Installing_Aptana_on_Linux" target="_blank">página web de Aptana</a> explican cómo cambiar la máquina virtual añadiendo una línea “export” a vuestro fichero ejecutable:</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre>export JAVA_HOME=/usr/lib/jvm/java-6-sun-1.6.0.10/bin/java
export MOZILLA_FIVE_HOME=/usr/lib/xulrunner
/usr/local/aptana/AptanaStudio
</pre></td></tr></tbody></table>
</div>
</div>

<p>Pero no funciona, o al menos a mi no me funciona. Si alguien sabe el porqué agradeceré que me lo comente ;)</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2009-01-14T18:15:28+01:00">
          <a href="//elboletaire.github.io/racotecnic/2009/01/cupones-de-promocion-descuento-de-dominios-en-go-daddy/">January 14, 2009</a>
        </time>
      </span>
      <span class="author vcard"><span class="fn">
        
        <a href="http://www.underave.net" title="About Booletaire">
          Booletaire
        </a>
        
      </span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="//elboletaire.github.io/racotecnic/2009/01/cupones-de-promocion-descuento-de-dominios-en-go-daddy/" rel="bookmark" title="Cupones de promoción / descuento de dominios en Go Daddy" itemprop="url">Cupones de promoción / descuento de dominios en Go Daddy</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Para que no os salgan tan caros los dominios este año ;)</p>

<ul>
  <li><strong>OYH3</strong> - $2.50 off / $7.45 any .COM (renewals too)</li>
  <li><strong>BTPS7</strong> - 20% any order of $50 or more</li>
  <li><strong>BTPS255</strong> - 25% off any order of $100 or more</li>
  <li><strong>OYH1</strong> - 10% off whatever</li>
  <li><strong>OYH2</strong> - $5 off a $30 purchase</li>
  <li><strong>BTPS4</strong> - 10% off anything</li>
  <li><strong>chill1</strong> - 10% off</li>
  <li><strong>chill2</strong> - $5 off $30</li>
  <li><strong>chill3</strong> - $7.45 .coms</li>
  <li><strong>hash1</strong> - 10% off</li>
  <li><strong>hash2</strong> - $5 off $30</li>
  <li><strong>hash3</strong> - $7.45 .com registration</li>
  <li><strong>gdd1101c</strong> - 10% off any order of $40 or more</li>
</ul>

<blockquote>
  Fuente y más descuentos:
  <ul>
    <li><a title="Ver más cupones" href="http://www.fatwallet.com/forums/hot-deals/725207" target="_blank">Godaddy promo code and coupon list for 2009</a></li>
    <li><a title="Ver más cupones" href="http://www.dealtaker.com/GoDaddy-coupon-code-a528-c.html" target="_blank">GoDaddy Coupon Code</a></li>
  </ul>
</blockquote>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2009-01-11T17:36:57+01:00">
          <a href="//elboletaire.github.io/racotecnic/2009/01/hosting-php-mysql-gratuit-amb-5gb-de-capacitat/">January 11, 2009</a>
        </time>
      </span>
      <span class="author vcard"><span class="fn">
        
        <a href="http://www.underave.net" title="About Booletaire">
          Booletaire
        </a>
        
      </span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="//elboletaire.github.io/racotecnic/2009/01/hosting-php-mysql-gratuit-amb-5gb-de-capacitat/" rel="bookmark" title="Hosting PHP + MySQL gratuït amb 5GB de capacitat" itemprop="url">Hosting PHP + MySQL gratuït amb 5GB de capacitat</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Quan vaig començar amb les meves primeres webs penjades a Internet (dic penjades a Internet perquè les primeres que vaig fer les vaig fer a la meva màquina i mai van sortir d’allà xD) vaig descobrir una pàgina que oferia 1GB de capacitat amb servei FTP, bases de dades MySQL i PHP.</p>

<p>El problema és que per aquella època anava bastant malament, sovint no et podies connectar a la pàgina i vaig acabar desistint.</p>

<p>Ara fa poc hi vaig tornar a entrar i han millorat considerablement el seu servei. A part de que sembla que no falla com ho feia (m’hi he registrat i he estat fent proves sense problemes) ara ofereixen moltes més coses:</p>

<ul>
  <li><strong>5500 MB d’espai</strong></li>
  <li><strong>200 GB de transferència</strong> mensual</li>
  <li>Compte <strong>FTP</strong> amb <strong>gestor de fitxers</strong> online</li>
  <li>Tauler de control amb <strong>instal·lador</strong> automàtic d’scripts (<strong>Fantastico</strong>)</li>
  <li>Suport amb <strong>PHP</strong></li>
  <li>Suport amb <strong>MySQL</strong> (fins a 50 bases de dades) amb <strong>phpMyAdmin</strong></li>
  <li>Suport tècnic gratuït</li>
  <li>Addon domains, Parked Domains i Subdominis (fins a 50 tots tres)</li>
  <li>Comptes d’<strong>e-mail</strong> (<strong>il·limitats</strong> amb webmail i <strong>records MX</strong> personals)</li>
  <li>Servei d’<strong>estadístiques</strong></li>
  <li><strong>Sense publicitat</strong></li>
</ul>

<p>L’instal·lador automàtic d’scripts ens permet instal·lar scripts com ara Wordpress, phpBB, Joomla… en pocs clics i sense tenir que pujar els fitxers al servidor via FTP.</p>

<p>A més ens permeten escollir entre diferents dominis per a generar el nostre domini principal i també registren un compte amb el teu nom d’<em>usuari.co.cc</em> (per exemple “<em>booletaire.co.cc</em>”) i en vinculen automàticament les DNS amb el subdomini de byethost (que podria ser “<em>booletaire.byethost22.com</em>” [segons el domini principal que haguem escollit]).</p>

<p>En definitiva, trobo que és una bona alternativa si esteu buscant hosting gratuït ;)</p>

<p><a title="Visitar byethost.com" href="http://www.byethost.com" target="_blank"><img class="aligncenter" title="ByetHost" src="http://byethost.com/templates/ja_erica/images/logo.png" alt="" width="270" height="54" /></a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2009-01-11T04:51:22+01:00">
          <a href="//elboletaire.github.io/racotecnic/2009/01/registro-de-usuarios-externo-a-wordpress/">January 11, 2009</a>
        </time>
      </span>
      <span class="author vcard"><span class="fn">
        
        <a href="http://www.underave.net" title="About Booletaire">
          Booletaire
        </a>
        
      </span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~4 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="//elboletaire.github.io/racotecnic/2009/01/registro-de-usuarios-externo-a-wordpress/" rel="bookmark" title="Registro de usuarios externo a Wordpress" itemprop="url">Registro de usuarios externo a Wordpress</a></h1>
    
  </header>
  <div class="entry-content">
    <blockquote>
  <p><strong>Nota:</strong> Esta entrada se refiere a la versión de Wordpress 2.6.x. Es posible
que estos métodos esten obsoletos —y por ello no funcione— en versiones más
recientes de WP.</p>
</blockquote>

<p>Estos días me estoy dedicando (entre otras cosas…) a unificar el registro de usuarios de la página <a title="Visitar underave.net" href="http://www.underave.net" target="_blank">www.underave.net</a> debido a que utilizamos distintas plataformas PHP (<a title="Visitar phpBB.com" href="http://www.phpbb.com" target="_blank">phpBB</a>, <a title="Visitar wordpress.org" href="http://www.wordpress.org" target="_blank">Wordpress</a> y <a title="Visitar mediawiki.org" href="http://www.mediawiki.org" target="_blank">MediaWiki</a>).</p>

<p>En este post explicaré cómo registrar usuarios desde un formulario externo a WordPress.</p>

<p>Pero explicaré lo justo y necesario (es decir, únicamente el código requerido para registrar los usuarios tras mandar los datos vía POST desde un formulario), como siempre, todo lo demás lo podéis encontrar fácilmente <a title="Búsqueda en google 'datos GET POST HTML PHP'" href="http://www.google.com/search?hl=ca&amp;q=enviar+datos+get+post+php+html&amp;btnG=Cerca&amp;lr=" target="_blank">utilizando google</a>.</p>

<p><a id="more"></a><a id="more-92"></a>
Empecemos…</p>

<p>Como he dicho doy por hecho que sabéis hacer un formulario de envío de datos POST. Por si acaso aquí tenéis una útil ayuda:</p>
<blockquote>
<a title="Visitar la web de referencia" href="http://aprendeenlinea.udea.edu.co/lms/moodle/mod/resource/view.php?id=47214" target="_blank">Enviando y recibiendo datos con GET y POST utilizando HTML y PHP</a></blockquote>

<p>Primero de todo debemos cargar los ficheros necesarios para utilizar las funciones de wordpress:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="k">require_once</span><span class="p">(</span><span class="s1">'../blog/wp-config.php'</span><span class="p">);</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'../blog/wp-includes/registration.php'</span><span class="p">);</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Donde “<strong>../blog/</strong>” corresponde a la ruta relativa de vuestro WordPress.</p>

<p>Una vez añadidos los ficheros necesarios (<em>wp-config.php</em> carga las variables de WordPress y algunos ficheros necesarios y el fichero <em>registration.php</em> nos permite utilizar las funciones de registro de usuarios) tan solo tenemos que llamar a la función para registrar usuarios. Tenemos dos opciones: la sencilla (<em>wp_create_user</em>) con sólo dos parámetros y la compleja (<em>wp_insert_user</em>) dónde le podemos pasar todos los detalles del usuario en un array asociativo.</p>

<p><a title="Ver detalles en el Codex de Wordpress" href="http://codex.wordpress.org/Function_Reference/wp_create_user" target="_blank">Simple</a>:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="nx">wp_create_user</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">'usuario'</span><span class="p">],</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'contrasenya'</span><span class="p">],</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'email'</span><span class="p">]);</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p><a title="Ver detalles en el Codex de Wordpress" href="http://codex.wordpress.org/Function_Reference/wp_insert_user" target="_blank">Compleja</a> (podéis ver todas las variables posibles en el <a title="Ver detalles en el Codex de Wordpress" href="http://codex.wordpress.org/Function_Reference/wp_insert_user" target="_blank">Codex de WordPress</a>):</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre></td><td class="code"><pre><span class="c1">// Rellenamos un array con los datos que queramos añadir
</span><span class="nv">$datos</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'user_login'</span>   <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'nick'</span><span class="p">],</span> <span class="c1">// Nombre de usuario para login
</span>    <span class="s1">'user_pass'</span>    <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'pass'</span><span class="p">],</span> <span class="c1">// Contraseña
</span>    <span class="s1">'user_url'</span>     <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'url'</span><span class="p">],</span> <span class="c1">// Website del usuario
</span>    <span class="s1">'user_email'</span>   <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'email'</span><span class="p">],</span> <span class="c1">// E-mail
</span>    <span class="s1">'display_name'</span> <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'nick'</span><span class="p">],</span> <span class="c1">// Nombre a mostrar del usuario en comentarios y mensajes
</span>    <span class="s1">'first_name '</span>  <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'nombre'</span><span class="p">],</span> <span class="c1">// Nombre del usuario
</span>    <span class="s1">'last_name'</span>    <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'apellidos'</span><span class="p">],</span> <span class="c1">// Apellidos
</span>    <span class="s1">'role'</span>         <span class="o">=&gt;</span> <span class="s1">'contributor'</span>
<span class="p">);</span>
<span class="c1">// Insertamos los datos
</span><span class="nx">wp_insert_user</span><span class="p">(</span><span class="nv">$datos</span><span class="p">);</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Fijaros en la propiedad “role”. Es para designar los permisos del usuario (que podéis consultar en <a title="Roles &amp; Capabilities @ Wordpress Codex" href="http://codex.wordpress.org/Roles_and_Capabilities" target="_blank">esta página</a>). Si no la ponéis pondrá la que tengáis por defecto configurada en el blog.</p>

<p>Ambas funciones retornan el ID resultante al registrar al usuario, lo que nos puede servir para enviar una activación por e-mail de la cuenta (por ejemplo…).</p>

<p>Pues ya lo tenéis, vuestro sistema de registro de usuarios de WordPress. Seguramente dentro de poco me anime a publicar un post para hacer vuestro propio sistema de login. También publicaré un post para registrar usuarios en phpBB.</p>

<p>A continuación os dejo el código completo para ambas funciones (para hacer copy paste más rápido ;) ):</p>

<p>Simple..</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="c1">// Añadimos los ficheros necesarios
</span><span class="k">require_once</span><span class="p">(</span><span class="s1">'../blog/wp-config.php'</span><span class="p">);</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'../blog/wp-includes/registration.php'</span><span class="p">);</span>
<span class="c1">// Insertamos los datos
</span><span class="nx">wp_create_user</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">'usuario'</span><span class="p">],</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'contrasenya'</span><span class="p">],</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'email'</span><span class="p">]);</span>
<span class="c1">// $id_usuario = wp_create_user($_POST['usuario'], $_POST['contrasenya'], $_POST['email']);
</span></pre></td></tr></tbody></table>
</div>
</div>

<p>Compleja..</p>

<div class="language-php highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre></td><td class="code"><pre><span class="c1">// Añadimos los ficheros necesarios
</span><span class="k">require_once</span><span class="p">(</span><span class="s1">'../blog/wp-config.php'</span><span class="p">);</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'../blog/wp-includes/registration.php'</span><span class="p">);</span>
<span class="c1">// Rellenamos un array con los datos que queramos añadir
</span><span class="nv">$datos</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'user_login'</span>   <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'nick'</span><span class="p">],</span> <span class="c1">// Nombre de usuario para login
</span>    <span class="s1">'user_pass'</span>    <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'pass'</span><span class="p">],</span> <span class="c1">// Contraseña
</span>    <span class="s1">'user_url'</span>     <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'url'</span><span class="p">],</span> <span class="c1">// Website del usuario
</span>    <span class="s1">'user_email'</span>   <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'email'</span><span class="p">],</span> <span class="c1">// E-mail
</span>    <span class="s1">'display_name'</span> <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'nick'</span><span class="p">],</span> <span class="c1">// Nombre a mostrar del usuario en comentarios y mensajes
</span>    <span class="s1">'first_name '</span>  <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'nombre'</span><span class="p">],</span> <span class="c1">// Nombre del usuario
</span>    <span class="s1">'last_name'</span>    <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'apellidos'</span><span class="p">],</span> <span class="c1">// Apellidos
</span>    <span class="s1">'role'</span>         <span class="o">=&gt;</span> <span class="s1">'contributor'</span>
<span class="p">);</span>
<span class="c1">// Insertamos los datos
</span><span class="nx">wp_insert_user</span><span class="p">(</span><span class="nv">$datos</span><span class="p">);</span>
<span class="c1">// $id_usuario = wp_insert_user($datos)
</span></pre></td></tr></tbody></table>
</div>
</div>

<p>Páginas de referencia:</p>

<blockquote>
<ul>
  <li><a title="Wordpress Codex" href="http://codex.wordpress.org" target="_blank">Wordpress Codex</a></li>
  <li><a title="Wordpress Codex" href="http://codex.wordpress.org/Function_Reference/wp_insert_user" target="_blank">Detalles de la función wp_insert_user</a></li>
  <li><a title="Wordpress Codex" href="http://codex.wordpress.org/Function_Reference/wp_create_user" target="_blank">Detalles de la función wp_create_user</a></li>
  <li><a title="Wordpress Codex" href="http://codex.wordpress.org/Roles_and_Capabilities" target="_blank">Roles &amp; Capabilities</a></li>
</ul>
</blockquote>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="//elboletaire.github.io/racotecnic/page/21/" class="btn">Previous</a></li>
      
    

    
    
      <li><a href="//elboletaire.github.io/racotecnic">1</a></li>
    

    
    
      
      
      <li>…</li>
    

    
    
    

    
      
        
        
        
        <li><a href="//elboletaire.github.io/racotecnic/page/20/">20</a></li>
      
    
      
        
        
        
        <li><a href="//elboletaire.github.io/racotecnic/page/21/">21</a></li>
      
    
      
        <li><strong class="current-page">22</strong></li>
      
    

    
    

    
      <li><a href="//elboletaire.github.io/racotecnic/page/23/">23</a></li>
    

    
    
      <li><a href="//elboletaire.github.io/racotecnic/page/23/" class="btn">Next</a></li>
    
  </ul>
</div>



</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Racó Tècnic. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="//elboletaire.github.io/racotecnic/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="//elboletaire.github.io/racotecnic/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-106861877-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>




</body>
</html>
